{"ast":null,"code":"import _objectSpread from \"/home/aakash/Documents/Aakash/Learn/React-js/project/node_modules/@babel/runtime/helpers/esm/objectSpread\";\nimport _classCallCheck from \"/home/aakash/Documents/Aakash/Learn/React-js/project/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/home/aakash/Documents/Aakash/Learn/React-js/project/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/home/aakash/Documents/Aakash/Learn/React-js/project/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/home/aakash/Documents/Aakash/Learn/React-js/project/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/home/aakash/Documents/Aakash/Learn/React-js/project/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _assertThisInitialized from \"/home/aakash/Documents/Aakash/Learn/React-js/project/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";\nvar _jsxFileName = \"/home/aakash/Documents/Aakash/Learn/React-js/project/src/components/Index.js\";\n// Index.js\nimport React, { Component } from 'react';\nimport axios from 'axios';\nimport TableRow from './TableRow';\n\nvar Index =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(Index, _Component);\n\n  function Index(props) {\n    var _this;\n\n    _classCallCheck(this, Index);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(Index).call(this, props));\n\n    _this.delUser = function (id, index) {\n      var token = localStorage.getItem('token');\n      var type = localStorage.getItem('type');\n      var authToken = type + ' ' + token;\n      var serverports = _this.state.serverports; // let id = this.props.userId;\n\n      axios.delete('http://192.168.6.234:3000/users/' + id, {\n        headers: {\n          \"Access-Control-Allow-Origin\": \"*\",\n          \"Authorization\": authToken\n        }\n      }).then( // if (token) {\n      function (res) {\n        if (res.data) {\n          serverports.splice(index, 1);\n\n          _this.setState(_objectSpread({}, _this.state, {\n            serverports: serverports\n          }));\n        }\n      });\n    };\n\n    _this.editUser = function (id) {\n      console.log();\n\n      _this.props.history.push({\n        pathname: '/editUser',\n        search: id\n      });\n    };\n\n    _this.state = {\n      serverports: [],\n      search: ''\n    };\n    _this.onSearch = _this.onSearch.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    return _this;\n  }\n\n  _createClass(Index, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var _this2 = this;\n\n      var token = localStorage.getItem('token');\n      var type = localStorage.getItem('type');\n      var authToken = type + ' ' + token;\n\n      if (!token) {\n        this.props.history.push({\n          pathname: '/login'\n        });\n      }\n\n      axios.get('http://192.168.6.234:3000/users', {\n        headers: {\n          \"Access-Control-Allow-Origin\": \"*\",\n          \"Authorization\": authToken\n        }\n      }).then(function (response) {\n        _this2.setState({\n          serverports: response.data.data.users\n        });\n      }).catch(function (error) {\n        console.log(error);\n      });\n    }\n  }, {\n    key: \"onSearch\",\n    value: function onSearch(e) {\n      var _this3 = this;\n\n      this.setState({\n        search: e.target.value\n      }); // e.preventDefault();\n\n      var token = localStorage.getItem('token');\n      var type = localStorage.getItem('type');\n      var authToken = type + ' ' + token;\n      var search = this.state.search;\n      axios.get('http://192.168.6.234:3000/users?search=' + search, {\n        headers: {\n          \"Access-Control-Allow-Origin\": \"*\",\n          \"Authorization\": authToken\n        }\n      }).then(function (response) {\n        _this3.setState({\n          serverports: response.data.data.users\n        });\n      }).catch(function (error) {\n        console.log(error);\n      });\n      this.setState({\n        email: '',\n        password: ''\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this4 = this;\n\n      return React.createElement(\"div\", {\n        className: \"container\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 108\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"row justify-content-center\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 109\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"col-12 col-md-10 col-lg-8\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 110\n        },\n        __self: this\n      }, React.createElement(\"form\", {\n        className: \"card card-sm\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 111\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"card-body row no-gutters align-items-center\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 112\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"col-auto\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 113\n        },\n        __self: this\n      }, React.createElement(\"i\", {\n        className: \"fas fa-search h4 text-body\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 114\n        },\n        __self: this\n      })), React.createElement(\"div\", {\n        className: \"col\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 116\n        },\n        __self: this\n      }, React.createElement(\"input\", {\n        className: \"form-control form-control-lg form-control-borderless\",\n        type: \"search\",\n        placeholder: \"Search topics or keywords\",\n        onChange: this.onSearch,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 117\n        },\n        __self: this\n      })))))), React.createElement(\"table\", {\n        className: \"table table-striped\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 126\n        },\n        __self: this\n      }, React.createElement(\"thead\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 127\n        },\n        __self: this\n      }, React.createElement(\"tr\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 128\n        },\n        __self: this\n      }, React.createElement(\"td\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 129\n        },\n        __self: this\n      }, \"ID\"), React.createElement(\"td\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 130\n        },\n        __self: this\n      }, \"Name\"), React.createElement(\"td\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 131\n        },\n        __self: this\n      }, \"Email\"), React.createElement(\"td\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 132\n        },\n        __self: this\n      }, \"Gender\"), React.createElement(\"td\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 133\n        },\n        __self: this\n      }, \"Action\"))), React.createElement(\"tbody\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 136\n        },\n        __self: this\n      }, this.state.serverports.map(function (object, i) {\n        return React.createElement(TableRow, {\n          obj: object,\n          key: i,\n          editUser: _this4.editUser,\n          delUser: _this4.delUser,\n          index: i,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 139\n          },\n          __self: this\n        });\n      }))));\n    }\n  }]);\n\n  return Index;\n}(Component);\n\nexport { Index as default };","map":{"version":3,"sources":["/home/aakash/Documents/Aakash/Learn/React-js/project/src/components/Index.js"],"names":["React","Component","axios","TableRow","Index","props","delUser","id","index","token","localStorage","getItem","type","authToken","serverports","state","delete","headers","then","res","data","splice","setState","editUser","console","log","history","push","pathname","search","onSearch","bind","get","response","users","catch","error","e","target","value","email","password","map","object","i"],"mappings":"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","sourcesContent":["// Index.js\r\n\r\nimport React, { Component } from 'react';\r\nimport axios from 'axios';\r\nimport TableRow from './TableRow';\r\n\r\nexport default class Index extends Component {\r\n\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      serverports: [],\r\n      search: ''\r\n    };\r\n\r\n    this.onSearch = this.onSearch.bind(this);\r\n\r\n  }\r\n  componentDidMount() {\r\n    let token = localStorage.getItem('token');\r\n    let type = localStorage.getItem('type');\r\n    let authToken = type + ' ' + token;\r\n    if (!token) {\r\n      this.props.history.push({\r\n        pathname: '/login'\r\n      })\r\n    }\r\n    axios.get('http://192.168.6.234:3000/users',\r\n      {\r\n        headers: {\r\n          \"Access-Control-Allow-Origin\": \"*\",\r\n          \"Authorization\": authToken\r\n        }\r\n      })\r\n      .then(response => {\r\n        this.setState({ serverports: response.data.data.users });\r\n      })\r\n      .catch(function (error) {\r\n        console.log(error);\r\n      })\r\n  }\r\n\r\n\r\n  delUser = (id, index) => {\r\n    let token = localStorage.getItem('token');\r\n    let type = localStorage.getItem('type');\r\n    let authToken = type + ' ' + token;\r\n    const { serverports } = this.state;\r\n    // let id = this.props.userId;\r\n    axios.delete(\r\n      'http://192.168.6.234:3000/users/' + id,\r\n      {\r\n        headers: {\r\n          \"Access-Control-Allow-Origin\": \"*\",\r\n          \"Authorization\": authToken\r\n        }\r\n      }\r\n    ).then(\r\n      // if (token) {\r\n      res => {\r\n        if (res.data) {\r\n          serverports.splice(index, 1);\r\n          this.setState({ ...this.state, serverports })\r\n        }\r\n      }\r\n    );\r\n  }\r\n\r\n  editUser = (id) => {\r\n    console.log();\r\n    this.props.history.push({\r\n      pathname: '/editUser',\r\n      search: id\r\n    })\r\n\r\n  }\r\n  onSearch(e) {\r\n    this.setState({\r\n      search: e.target.value\r\n    });\r\n    // e.preventDefault();\r\n    let token = localStorage.getItem('token');\r\n    let type = localStorage.getItem('type');\r\n    let authToken = type + ' ' + token;\r\n\r\n    const search = this.state.search;\r\n    axios.get('http://192.168.6.234:3000/users?search=' + search,\r\n      {\r\n        headers: {\r\n          \"Access-Control-Allow-Origin\": \"*\",\r\n          \"Authorization\": authToken\r\n        }\r\n      })\r\n      .then(response => {\r\n        this.setState({ serverports: response.data.data.users });\r\n      })\r\n      .catch(function (error) {\r\n        console.log(error);\r\n      })\r\n\r\n    this.setState({\r\n      email: '',\r\n      password: ''\r\n    });\r\n  }\r\n  render() {\r\n    return (\r\n      <div className=\"container\">\r\n        <div className=\"row justify-content-center\">\r\n          <div className=\"col-12 col-md-10 col-lg-8\">\r\n            <form className=\"card card-sm\">\r\n              <div className=\"card-body row no-gutters align-items-center\">\r\n                <div className=\"col-auto\">\r\n                  <i className=\"fas fa-search h4 text-body\"></i>\r\n                </div>\r\n                <div className=\"col\">\r\n                  <input className=\"form-control form-control-lg form-control-borderless\" type=\"search\" placeholder=\"Search topics or keywords\" onChange={this.onSearch} />\r\n                </div>\r\n                {/* <div className=\"col-auto\">\r\n                  <button className=\"btn btn-lg btn-success\" type=\"submit\">Search</button>\r\n                </div> */}\r\n              </div>\r\n            </form>\r\n          </div>\r\n        </div>\r\n        <table className=\"table table-striped\">\r\n          <thead>\r\n            <tr>\r\n              <td>ID</td>\r\n              <td>Name</td>\r\n              <td>Email</td>\r\n              <td>Gender</td>\r\n              <td>Action</td>\r\n            </tr>\r\n          </thead>\r\n          <tbody>\r\n            {\r\n              this.state.serverports.map((object, i) => {\r\n                return <TableRow obj={object} key={i} editUser={this.editUser} delUser={this.delUser} index={i} />\r\n              })\r\n            }\r\n          </tbody>\r\n        </table>\r\n\r\n      </div>\r\n    );\r\n  }\r\n}"]},"metadata":{},"sourceType":"module"}